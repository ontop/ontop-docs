<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Build Ontop Bundles | Ontop</title>
    <meta name="generator" content="VuePress 1.7.0">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.0e73886c.css" as="style"><link rel="preload" href="/assets/js/app.a5e23787.js" as="script"><link rel="preload" href="/assets/js/2.b40ae616.js" as="script"><link rel="preload" href="/assets/js/17.145cca4d.js" as="script"><link rel="prefetch" href="/assets/js/10.2163dee8.js"><link rel="prefetch" href="/assets/js/11.c924da75.js"><link rel="prefetch" href="/assets/js/12.79f6f8e9.js"><link rel="prefetch" href="/assets/js/13.7dadcf59.js"><link rel="prefetch" href="/assets/js/14.598accfa.js"><link rel="prefetch" href="/assets/js/15.bfa0007d.js"><link rel="prefetch" href="/assets/js/16.35bbe300.js"><link rel="prefetch" href="/assets/js/18.a9474dc4.js"><link rel="prefetch" href="/assets/js/19.8d97be04.js"><link rel="prefetch" href="/assets/js/20.71e31749.js"><link rel="prefetch" href="/assets/js/21.34894b2b.js"><link rel="prefetch" href="/assets/js/22.46b43b13.js"><link rel="prefetch" href="/assets/js/23.466846f6.js"><link rel="prefetch" href="/assets/js/24.4436715b.js"><link rel="prefetch" href="/assets/js/25.a568e7d4.js"><link rel="prefetch" href="/assets/js/26.af92857d.js"><link rel="prefetch" href="/assets/js/27.8a67717d.js"><link rel="prefetch" href="/assets/js/28.4480fcc4.js"><link rel="prefetch" href="/assets/js/29.e4cf4e7a.js"><link rel="prefetch" href="/assets/js/3.7abcc878.js"><link rel="prefetch" href="/assets/js/30.9faad315.js"><link rel="prefetch" href="/assets/js/31.2ec841a6.js"><link rel="prefetch" href="/assets/js/32.56b357ec.js"><link rel="prefetch" href="/assets/js/33.6c3aa78f.js"><link rel="prefetch" href="/assets/js/34.0cd7d45e.js"><link rel="prefetch" href="/assets/js/35.7cf7ca9a.js"><link rel="prefetch" href="/assets/js/36.edb7f03d.js"><link rel="prefetch" href="/assets/js/37.1bc1866b.js"><link rel="prefetch" href="/assets/js/38.b85f4a67.js"><link rel="prefetch" href="/assets/js/39.d42cbf32.js"><link rel="prefetch" href="/assets/js/4.5a2a6e1a.js"><link rel="prefetch" href="/assets/js/40.28d3018c.js"><link rel="prefetch" href="/assets/js/41.5fe6876a.js"><link rel="prefetch" href="/assets/js/42.78275e12.js"><link rel="prefetch" href="/assets/js/43.19ff1cc8.js"><link rel="prefetch" href="/assets/js/44.4ace8242.js"><link rel="prefetch" href="/assets/js/45.6a701de0.js"><link rel="prefetch" href="/assets/js/46.9ea2080a.js"><link rel="prefetch" href="/assets/js/47.8b32db57.js"><link rel="prefetch" href="/assets/js/48.d0240e79.js"><link rel="prefetch" href="/assets/js/49.eae9aacc.js"><link rel="prefetch" href="/assets/js/5.83daf979.js"><link rel="prefetch" href="/assets/js/50.e8d875d9.js"><link rel="prefetch" href="/assets/js/51.b8c45fb1.js"><link rel="prefetch" href="/assets/js/52.4452a6bb.js"><link rel="prefetch" href="/assets/js/53.876756c4.js"><link rel="prefetch" href="/assets/js/54.b3316027.js"><link rel="prefetch" href="/assets/js/55.02d077f6.js"><link rel="prefetch" href="/assets/js/56.fdff1921.js"><link rel="prefetch" href="/assets/js/57.14f402fa.js"><link rel="prefetch" href="/assets/js/58.7a94d268.js"><link rel="prefetch" href="/assets/js/59.1e2b15cb.js"><link rel="prefetch" href="/assets/js/6.edab4b1f.js"><link rel="prefetch" href="/assets/js/60.ab084494.js"><link rel="prefetch" href="/assets/js/61.369634c7.js"><link rel="prefetch" href="/assets/js/62.c643a918.js"><link rel="prefetch" href="/assets/js/63.c2f10467.js"><link rel="prefetch" href="/assets/js/64.0b3d217a.js"><link rel="prefetch" href="/assets/js/65.d811c863.js"><link rel="prefetch" href="/assets/js/66.ead40aca.js"><link rel="prefetch" href="/assets/js/67.65c8f306.js"><link rel="prefetch" href="/assets/js/68.0c348049.js"><link rel="prefetch" href="/assets/js/69.d5869f74.js"><link rel="prefetch" href="/assets/js/7.7202ab3e.js"><link rel="prefetch" href="/assets/js/8.a8f1122f.js"><link rel="prefetch" href="/assets/js/9.46f7abf6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0e73886c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Ontop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/dev/git.html" class="sidebar-link">Git workflow</a></li><li><a href="/dev/build.html" aria-current="page" class="active sidebar-link">Build Ontop Bundles</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/dev/new-release.html" class="sidebar-link">Make a new release</a></li><li><a href="/dev/debug-protege.html" class="sidebar-link">Debug Protégé</a></li><li><a href="/dev/debug-jetty.html" class="sidebar-link">Debug Jetty</a></li><li><a href="/dev/db-adapter.html" class="sidebar-link">Support a new database system</a></li><li><a href="/dev/stats.html" class="sidebar-link">Statistics</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Internals</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/internals/iq.html" class="sidebar-link">Intermediate Query</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Outdated corner</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="build-ontop-bundles"><a href="#build-ontop-bundles" class="header-anchor">#</a> Build Ontop Bundles</h1> <h3 id="requirements"><a href="#requirements" class="header-anchor">#</a> Requirements</h3> <ul><li><p>a Linux, Mac OS X or Windows machine;</p></li> <li><p>git, for checking out Ontop code (refer to installation instructions for your OS/distribution);</p></li> <li><p>Java 8 (JDK, not JRE, refer to installation instructions for your OS/distribution);</p></li> <li><p>JAVA_HOME environment variable correctly set up and pointing to a Java 8 JDK.
Run <code>echo $JAVA_HOME</code> (on Windows: <code>echo %JAVA_HOME%</code>) and check the path printed (if any).
If the variable is unset, you can set it temporarily in the terminal session using <code>export JAVA_HOME=[path]</code> (on Windows: <code>setx JAVA_HOME -m &quot;[path]&quot;</code>), where [path] points to the JDK installation (the directory containing bin, lib, etc).
This setting may be made persistent by editing your ~/.bash_profile (on Windows, edit System and Security &gt; System &gt; Advanced System Settings &gt; Environment Variables). In particular, for Mac OS X</p> <div class="language-console extra-class"><pre class="language-text"><code>$ vim ~/.bash_profile 
Add this line:  export JAVA_HOME=$(/usr/libexec/java_home)
$ source ~/.bash_profile
</code></pre></div></li> <li><p>Maven 3.6.0 or later, with <code>mvn</code> command available on <code>PATH</code>. Run</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn -v
Apache Maven 3.6.1 (d66c9c0b3152b2e69ee9bac180bb8fcc8e6af555; 2019-04-04T21:00:29+02:00)
Maven home: /opt/maven/current
Java version: 1.8.0_275, vendor: AdoptOpenJDK, runtime: /usr/lib/jvm/adoptopenjdk-8-hotspot-amd64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: &quot;linux&quot;, version: &quot;4.19.0-12-amd64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;
</code></pre></div><p>Check the versions of Maven (3.6.1 &gt; 3.6.0 in the example) and Java (1.8.0_275, i.e. Java 8).</p></li></ul> <h3 id="checkout-ontop-source-code"><a href="#checkout-ontop-source-code" class="header-anchor">#</a> Checkout Ontop source code</h3> <p>In a terminal, move to the parent directory where you want to checkout Ontop, and run</p> <div class="language- extra-class"><pre class="language-text"><code>$ git checkout https://github.com/ontop/ontop.git
$ cd ontop
</code></pre></div><h3 id="build-all-bundles"><a href="#build-all-bundles" class="header-anchor">#</a> Build all bundles</h3> <p>From the root directory of Ontop source code tree, run</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn -Prelease -DskipTests
</code></pre></div><p>The command compiles Ontop modules and generates the Ontop bundles distributed on GitHub, whose files are written in directory <code>build/distribution/target</code> and include:</p> <ul><li><code>ontop-cli-[ontop-version].zip</code> - libraries/scripts to use ontop from the command line and setup a SPARQL endpoint;</li> <li><code>it.unibz.inf.ontop.protege-[ontop-version].jar</code> - plugin for Protégé 5.x installation files (drop it in Protégé’s plugins folder);</li> <li><code>ontop-protege-bundle-platform-independent-[ontop-version].zip</code> - Protégé 5.x bundled with Ontop plugin and ready to run (just unzip and use the run.sh or run.bat scripts);</li> <li><code>ontop-protege-bundle-linux-[ontop-version].zip</code> - as above, for Linux;</li> <li><code>ontop-protege-bundle-os-x-[ontop-version].zip</code> - as above, for Mac OS X;</li> <li><code>ontop-protege-bundle-win-[ontop-version].zip</code> - as above, for Windows.</li></ul> <p>Notes:</p> <ul><li>profile activation <code>-Prelease</code> enables the generation of the Ontop bundles (if omitted, only JAR files for Ontop modules are created);</li> <li>option <code>-DskipTest</code> disables the execution of unit and integration tests (generally performed at release time) to speed up the process - omit it to enable tests (e.g., to test changes to source code);</li> <li>in Ontop version 4.0.3 or earlier, the build must be performed via Bash script <code>build-release.sh</code> (Linux and Mac OS X only) and generated bundles are written to sub-directories ontop-cli, ontop-protege, and ontop-webapps of directory build/distribution. The script also generated bundles for Jetty 9 + RDF4J workbench + Ontop and for Tomcat 8 + RDF4J workbench + Ontop. These bundles are <a href="https://ontop-vkg.org/guide/releases.html#_4-0-0-rc-1-july-8-2020" target="_blank" rel="noopener">deprecated and no more supported<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, but users may still setup these Jetty / Tomcat configurations by generating and using the WAR files as detailed next.</li></ul> <h3 id="build-specific-bundles"><a href="#build-specific-bundles" class="header-anchor">#</a> Build specific bundles</h3> <p>Starting from version <code>4.1</code>, we provide Maven profiles to build specific Ontop bundles as quickly as possible (with respect to using the above 'build all' command), which may come in handy when modifying Ontop source code. Specifically:</p> <ul><li><p>to build the Ontop command line tool only (i.e., <code>ontop-cli-[ontop-version].zip</code>)</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn -Pcli
</code></pre></div></li> <li><p>to build the Ontop Protégé plugin (<code>it.unibz.inf.ontop.protege-[ontop-version].jar</code>) and the Protégé bundles including it (files <code>ontop-protege-bundle-[platform]-[ontop-version].zip</code>)</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn -Pprotege
</code></pre></div></li> <li><p>to build the WARs for RDF4J server and workbench applications extended with support for Ontop repositories (file <code>ontop-webapps-[ontop-version].zip</code>)</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn -Pwebapps
</code></pre></div><p><strong>Note</strong>: this bundle is no more part of Ontop release (as of version 4.1) but can still be built locally by users. The produced zip contains two WAR files that can be dropped into any Servlet container of choice, including Tomcat and Jetty.</p></li></ul> <p>The Maven profiles (cli, protege, webapps) employed in the commands above exclude unneeded artifacts, javadocs generation, and testing from the build, which is thus faster. These profiles can be arbitrarily combined to produce multiple bundles (e.g., <code>mvn -Pcli,webapps</code> to generate both command line tool and WARs).</p> <h3 id="other-useful-maven-commands"><a href="#other-useful-maven-commands" class="header-anchor">#</a> Other useful Maven commands</h3> <p>Also starting from version <code>4.1</code>, we provide additional Maven profiles to facilitate some build-related development tasks, as listed next:</p> <ul><li><p>to perform various Maven analyses on the Ontop Maven project as a whole</p> <div class="language-console extra-class"><pre class="language-text"><code>$ mvn -Panalyze
</code></pre></div><p>The profile currently uses <code>maven-dependency-plugin</code> and <code>versions-maven-plugin</code> to report (on standard output) information about which build plugins and dependencies can be updated, and whether there are conflicts, duplications or other problems involving declared dependencies;</p></li> <li><p>to list third-party libraries and their licenses</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn -Pthirdparty
</code></pre></div><p>The profile uses the <code>license-maven-plugin</code> and some additional configuration (in <code>build/settings</code>) to produce a report file <code>build/distribution/THIRD-PARTY.txt</code> that may be useful to assess that only Java libraries with compatible licenses are included in Ontop.</p></li> <li><p>to auto-format <code>pom.xml</code> files in the project</p> <div class="language- extra-class"><pre class="language-text"><code>$ mvn -Pformat
</code></pre></div></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ontop/ontop-website/edit/master/dev/build.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/19/2021, 10:14:18 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dev/git.html" class="prev">
        Git workflow
      </a></span> <span class="next"><a href="/dev/new-release.html">
        Make a new release
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a5e23787.js" defer></script><script src="/assets/js/2.b40ae616.js" defer></script><script src="/assets/js/17.145cca4d.js" defer></script>
  </body>
</html>
