<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Presto | Ontop</title>
    <meta name="generator" content="VuePress 1.8.2">
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.2b9f24ec.css" as="style"><link rel="preload" href="/assets/js/app.89788753.js" as="script"><link rel="preload" href="/assets/js/2.ce8d9015.js" as="script"><link rel="preload" href="/assets/js/51.f97daa0e.js" as="script"><link rel="prefetch" href="/assets/js/10.2e10abfc.js"><link rel="prefetch" href="/assets/js/11.9c479812.js"><link rel="prefetch" href="/assets/js/12.5ae33baf.js"><link rel="prefetch" href="/assets/js/13.9330117e.js"><link rel="prefetch" href="/assets/js/14.cabf7cc1.js"><link rel="prefetch" href="/assets/js/15.8ec0d624.js"><link rel="prefetch" href="/assets/js/16.6ea3c048.js"><link rel="prefetch" href="/assets/js/17.23c168f3.js"><link rel="prefetch" href="/assets/js/18.1de16b6c.js"><link rel="prefetch" href="/assets/js/19.c55473af.js"><link rel="prefetch" href="/assets/js/20.8c67cb7d.js"><link rel="prefetch" href="/assets/js/21.101f0364.js"><link rel="prefetch" href="/assets/js/22.c12075f0.js"><link rel="prefetch" href="/assets/js/23.43b5e0ca.js"><link rel="prefetch" href="/assets/js/24.e8f61543.js"><link rel="prefetch" href="/assets/js/25.2396cff3.js"><link rel="prefetch" href="/assets/js/26.d98cd04f.js"><link rel="prefetch" href="/assets/js/27.906526eb.js"><link rel="prefetch" href="/assets/js/28.94f3980e.js"><link rel="prefetch" href="/assets/js/29.6957445c.js"><link rel="prefetch" href="/assets/js/3.4c4f4577.js"><link rel="prefetch" href="/assets/js/30.a3858dfb.js"><link rel="prefetch" href="/assets/js/31.e0f4dd4b.js"><link rel="prefetch" href="/assets/js/32.bbc94ac1.js"><link rel="prefetch" href="/assets/js/33.45b3ef2c.js"><link rel="prefetch" href="/assets/js/34.5c6a9e4c.js"><link rel="prefetch" href="/assets/js/35.0d111cf6.js"><link rel="prefetch" href="/assets/js/36.c44deccc.js"><link rel="prefetch" href="/assets/js/37.bb881e0e.js"><link rel="prefetch" href="/assets/js/38.4b35dae5.js"><link rel="prefetch" href="/assets/js/39.4be92c4e.js"><link rel="prefetch" href="/assets/js/4.65c6f7cd.js"><link rel="prefetch" href="/assets/js/40.95a2c8af.js"><link rel="prefetch" href="/assets/js/41.8783e3b4.js"><link rel="prefetch" href="/assets/js/42.3110384f.js"><link rel="prefetch" href="/assets/js/43.2f553706.js"><link rel="prefetch" href="/assets/js/44.1d9080b2.js"><link rel="prefetch" href="/assets/js/45.5291c80e.js"><link rel="prefetch" href="/assets/js/46.95be6bab.js"><link rel="prefetch" href="/assets/js/47.ad1074c4.js"><link rel="prefetch" href="/assets/js/48.0d6b015c.js"><link rel="prefetch" href="/assets/js/49.f7c32909.js"><link rel="prefetch" href="/assets/js/5.e8e9de00.js"><link rel="prefetch" href="/assets/js/50.553bcc3d.js"><link rel="prefetch" href="/assets/js/52.c6007dd0.js"><link rel="prefetch" href="/assets/js/53.531ae014.js"><link rel="prefetch" href="/assets/js/54.4886bdef.js"><link rel="prefetch" href="/assets/js/55.8d8bd329.js"><link rel="prefetch" href="/assets/js/56.7df4d26d.js"><link rel="prefetch" href="/assets/js/57.875eb1b7.js"><link rel="prefetch" href="/assets/js/58.84614c17.js"><link rel="prefetch" href="/assets/js/59.8a99da0a.js"><link rel="prefetch" href="/assets/js/6.e48edabd.js"><link rel="prefetch" href="/assets/js/60.afe27b10.js"><link rel="prefetch" href="/assets/js/61.c3d9a46e.js"><link rel="prefetch" href="/assets/js/62.bc19bdad.js"><link rel="prefetch" href="/assets/js/63.3958e67e.js"><link rel="prefetch" href="/assets/js/64.346036f0.js"><link rel="prefetch" href="/assets/js/65.b3b941a0.js"><link rel="prefetch" href="/assets/js/66.c44124a7.js"><link rel="prefetch" href="/assets/js/67.64e2a825.js"><link rel="prefetch" href="/assets/js/68.e10a3527.js"><link rel="prefetch" href="/assets/js/69.6d63de0c.js"><link rel="prefetch" href="/assets/js/7.7db7f35e.js"><link rel="prefetch" href="/assets/js/70.b9f43dfa.js"><link rel="prefetch" href="/assets/js/71.0cfd9227.js"><link rel="prefetch" href="/assets/js/72.6b1462d3.js"><link rel="prefetch" href="/assets/js/73.fb51a3b3.js"><link rel="prefetch" href="/assets/js/74.844910a1.js"><link rel="prefetch" href="/assets/js/75.b3759ae1.js"><link rel="prefetch" href="/assets/js/76.a37b539d.js"><link rel="prefetch" href="/assets/js/77.c19a7ca8.js"><link rel="prefetch" href="/assets/js/78.70341003.js"><link rel="prefetch" href="/assets/js/79.3b685102.js"><link rel="prefetch" href="/assets/js/8.a24e3ea0.js"><link rel="prefetch" href="/assets/js/80.64f8b67b.js"><link rel="prefetch" href="/assets/js/81.e950ffd8.js"><link rel="prefetch" href="/assets/js/82.58d62800.js"><link rel="prefetch" href="/assets/js/83.f05ae714.js"><link rel="prefetch" href="/assets/js/84.0fe69a4f.js"><link rel="prefetch" href="/assets/js/85.2663cb75.js"><link rel="prefetch" href="/assets/js/86.e4a298ad.js"><link rel="prefetch" href="/assets/js/87.69e9cfa7.js"><link rel="prefetch" href="/assets/js/88.d06c7d2f.js"><link rel="prefetch" href="/assets/js/89.089b6b8c.js"><link rel="prefetch" href="/assets/js/9.2397fef4.js"><link rel="prefetch" href="/assets/js/90.2da9f11c.js"><link rel="prefetch" href="/assets/js/91.07b1c0b4.js"><link rel="prefetch" href="/assets/js/92.2f52313f.js"><link rel="prefetch" href="/assets/js/93.b5c01828.js"><link rel="prefetch" href="/assets/js/94.e4685204.js"><link rel="prefetch" href="/assets/js/95.6f84c28c.js"><link rel="prefetch" href="/assets/js/96.b79f0927.js"><link rel="prefetch" href="/assets/js/97.dc3e9026.js"><link rel="prefetch" href="/assets/js/98.92948a43.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2b9f24ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Ontop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="/download/" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/research/" class="nav-link">
  Research
</a></div><div class="nav-item"><a href="/dev/" class="nav-link">
  Dev
</a></div><div class="nav-item"><a href="/jobs/" class="nav-link">
  Work with us
</a></div> <a href="https://github.com/ontop/ontop" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/concepts.html" class="sidebar-link">Key concepts</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting started</a></li><li><a href="/guide/cli.html" class="sidebar-link">Command Line Interface</a></li><li><a href="/guide/compliance.html" class="sidebar-link">Standards compliance</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/advanced/predefined.html" class="sidebar-link">Predefined query endpoint (beta)</a></li><li><a href="/guide/advanced/logging.html" class="sidebar-link">Query logging</a></li><li><a href="/guide/advanced/caching.html" class="sidebar-link">HTTP caching</a></li><li><a href="/guide/advanced/configuration.html" class="sidebar-link">Configuration keys</a></li><li><a href="/guide/advanced/lenses.html" class="sidebar-link">Lenses</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Data sources</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/databases/generic.html" class="sidebar-link">Generic JDBC</a></li><li><a href="/guide/databases/athena.html" class="sidebar-link">AWS Athena</a></li><li><a href="/guide/databases/redshift.html" class="sidebar-link">AWS Redshift</a></li><li><a href="/guide/databases/databricks.html" class="sidebar-link">Databricks</a></li><li><a href="/guide/databases/db2.html" class="sidebar-link">DB2</a></li><li><a href="/guide/databases/denodo.html" class="sidebar-link">Denodo</a></li><li><a href="/guide/databases/dremio.html" class="sidebar-link">Dremio</a></li><li><a href="/guide/databases/duckdb.html" class="sidebar-link">DuckDB</a></li><li><a href="/guide/databases/bigquery.html" class="sidebar-link">Google BigQuery</a></li><li><a href="/guide/databases/h2.html" class="sidebar-link">H2</a></li><li><a href="/guide/databases/mariadb.html" class="sidebar-link">MariaDB</a></li><li><a href="/guide/databases/mssql.html" class="sidebar-link">MS SQLServer</a></li><li><a href="/guide/databases/mysql.html" class="sidebar-link">MySQL</a></li><li><a href="/guide/databases/oracle.html" class="sidebar-link">Oracle</a></li><li><a href="/guide/databases/postgres.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/guide/databases/presto.html" aria-current="page" class="active sidebar-link">Presto</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/databases/presto.html#limitations-exceptions" class="sidebar-link">Limitations &amp; Exceptions</a></li><li class="sidebar-sub-header"><a href="/guide/databases/presto.html#database-connection" class="sidebar-link">Database Connection</a></li><li class="sidebar-sub-header"><a href="/guide/databases/presto.html#nested-type-support" class="sidebar-link">Nested Type Support</a></li></ul></li><li><a href="/guide/databases/snowflake.html" class="sidebar-link">Snowflake</a></li><li><a href="/guide/databases/spark.html" class="sidebar-link">SparkSQL</a></li><li><a href="/guide/databases/trino.html" class="sidebar-link">Trino</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Troubleshooting</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/troubleshooting/faq.html" class="sidebar-link">FAQ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Meta</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/glossary.html" class="sidebar-link">Glossary</a></li><li><a href="/guide/releases.html" class="sidebar-link">Release notes</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="presto"><a href="#presto" class="header-anchor">#</a> Presto</h1> <p>Through the <a href="https://prestodb.io" target="_blank" rel="noopener">Presto<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> connector, Ontop is able to construct VKGs on Presto databases.</p> <h2 id="limitations-exceptions"><a href="#limitations-exceptions" class="header-anchor">#</a> Limitations &amp; Exceptions</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Presto does not provide information about integrity constraints. Make sure to provide this information in order to avoid very inefficient queries.
We recommend using <a href="/guide/advanced/lenses">lenses</a> for this purpose.</p></div> <ul><li>Accessing struct fields with the &quot;dot operator&quot; is not supported (see below).</li></ul> <h2 id="database-connection"><a href="#database-connection" class="header-anchor">#</a> Database Connection</h2> <p>The following shows the content of a sample <code>.properties</code> file that can be used to connect Ontop to Presto:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>jdbc.url <span class="token operator">=</span> jdbc:presto://localhost:8080/defaultdatabase
jdbc.user <span class="token operator">=</span> user
jdbc.password <span class="token operator">=</span> password
jdbc.driver <span class="token operator">=</span> com.facebook.presto.jdbc.PrestoDriver
</code></pre></div><p>In case Presto is set up without authentication, the <code>jdbc.user</code> and <code>jdbc.password</code> lines can also be left out.</p> <h2 id="nested-type-support"><a href="#nested-type-support" class="header-anchor">#</a> Nested Type Support</h2> <p>Ontop implements explicit compatibility with the Presto array type <code>array(t)</code>. When used with the <a href="/guide/advanced/lenses#flattenlens">flatten lens</a>, it is able to automatically infer the type of the result column.</p> <p>The flatten lens cannot be used on arrays stored as JSON-encoded columns in the database. For such use cases, the column first has to be converted to an array type.</p> <h3 id="struct-access"><a href="#struct-access" class="header-anchor">#</a> Struct Access</h3> <p>In Presto, individual <code>ROW</code> objects can be accessed by SQL expressions using the &quot;dot operator&quot; on the <code>ROW</code> column. In Ontop, this feature is not currently supported.</p> <p>Should any of their elements still be required, then a workaround can be performed by first transforming the struct into a JSON object and then accessing it using JSON functions.</p> <p>Example:</p> <p><code>my_row.my_attribute</code> <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" viewBox="0 -511 1000 522" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> <code>JSON_EXTRACT(CAST(my_struct AS JSON), '$.my_attribute')</code></p> <p>Elements of <code>MAP</code> objects can be accessed using the <code>[]</code> operator, as in</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> my_map<span class="token punctuation">[</span><span class="token string">'my_attribute'</span><span class="token punctuation">]</span> <span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ontop/ontop-website/edit/master/guide/databases/presto.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/22/2023, 8:20:00 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/databases/postgres.html" class="prev">
        PostgreSQL
      </a></span> <span class="next"><a href="/guide/databases/snowflake.html">
        Snowflake
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.89788753.js" defer></script><script src="/assets/js/2.ce8d9015.js" defer></script><script src="/assets/js/51.f97daa0e.js" defer></script>
  </body>
</html>
